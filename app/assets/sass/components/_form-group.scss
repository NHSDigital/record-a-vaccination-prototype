// Inline form box-flex-group:
// Used to group inputs with buttons.
//
// Remove this when https://github.com/nhsuk/nhsuk-frontend/pull/1643 has
// been merged and released.
.app-form-group--inline {
  display: block;

  .nhsuk-form-group {
    // Set max-width to override potential width override class on the input
    max-width: 100%;
    margin-bottom: nhsuk-spacing(2);
  }

  @include nhsuk-media-query($until: tablet) {
    // Unlike GOV.UK Frontend, always stack on small screens
    // stylelint-disable-next-line declaration-no-important
    display: block !important;
  }

  @include nhsuk-media-query($from: tablet) {
    display: flex;
    gap: nhsuk-spacing(2);
    align-items: flex-end;

    .nhsuk-form-group {
      flex-grow: 1;
      margin-bottom: 0; // Remove margin when nested groups are inline
    }

    .nhsuk-button,
    .nhsuk-button-group {
      flex-grow: 0;
    }

    // Remove inline button margin but reserve space for button shadow,
    // making sure 44px box maintains alignment with other form controls
    // https://nhsuk.github.io/nhsuk-frontend/examples/form-alignment/
    .nhsuk-button {
      margin-bottom: $nhsuk-button-shadow-size + $nhsuk-border-width-form-element;
    }
  }
}
