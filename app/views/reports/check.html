{% extends 'layout.html' %}

{% block pageTitle %}
  East of England
{% endblock %}

{% set currentSection = "reports" %}

{% set organisation = {name: data.nhsTrusts[data.organisationCode]} %}

{% block outerContent %}
  {{ backLink({
    href: "/reports/choose-data",
    text: "Back",
    classes: "nhsuk-u-margin-top-4"
  }) }}
{% endblock %}

{% block content %}
  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-two-thirds">

      <h1 class="nhsuk-heading-xl">Check and confirm</h1>


      {% set from = data.from %}
      {% set to = data.to %}

      {{ summaryList({
        rows: [
          {
            key: {
              text: ("Date" if from == to else "From")
            },
            value: {
              text: (from | isoDateFromDateInput | govukDate)
            },
            actions: {
              items: [
                {
                  href: "/reports/choose-dates-2",
                  text: "Change",
                  visuallyHiddenText: "name"
                }
              ]
            }
          },
          {
            key: {
              text: "To"
            },
            value: {
              text: (to | isoDateFromDateInput | govukDate)
            },
            actions: {
              items: [
                {
                  href: "/reports/choose-dates-2",
                  text: "Change",
                  visuallyHiddenText: "name"
                }
              ]
            }
          },
          {
            key: {
              text: "Vaccines"
            },
            value: {
              text: (data.vaccines | join(", "))
            },
            actions: {
              items: [
                {
                  href: "/reports/choose-vaccines-2",
                  text: "Change",
                  visuallyHiddenText: "change vaccines"
                }
              ]
            }
          },


          {
            key: {
              text: "Sites"
            },
            value: {
              text: (data.reportSites | join(",  "))
            },
            actions: {
              items: [
              {
                href: "/reports/choose-site-2",
                text: "Change",
                visuallyHiddenText: "change sites"
              }
              ]
            }
          },
          {
            key: {
              text: "Data"
            },
            value: {
              text: (data.data | join(",  "))
            },
            actions: {
              items: [
                {
                  href: "/reports/choose-data",
                  text: "Change",
                  visuallyHiddenText: "change data"
                }
              ]
            }
          }


        ]
      }) }}



      <form action="/reports/download" method="post">
        {{ button({
          "text": "Confirm and create report"
        }) }}
      </form>


    </div>
  </div>
{% endblock %}


