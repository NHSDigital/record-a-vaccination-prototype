{% extends 'layout.html' %}

{% set pageName = "Where is the vaccination taking place?" %}

{% set currentSection = "vaccinate" %}

{% block beforeContent %}
  {{ backLink({ href: "/vaccinate/eligibility" }) }}
{% endblock %}

{% block content %}
  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-two-thirds">

      {% if (errors | length) > 0 %}
        {{ errorSummary({
          titleText: "There is a problem",
          errorList: errors
        }) }}
      {% endif %}

      <form action="/vaccinate/answer-location" method="post" novalidate>

        {{ radios({
          idPrefix: "location-type",
          name: "locationType",
          fieldset: {
            legend: {
              text: ("Where is the vaccination taking place?" if data.vaccinationToday == 'yes' else "Where did the vaccination take place?"),
              classes: "nhsuk-fieldset__legend--l",
              isPageHeading: true
            }
          },
          errorMessage: {
            text: (errors | first).text
          } if (errors | length) > 0,
          hint: {
            text: "This is needed for payment and reporting."
          },
          items: [
            {
              text: "Hospital hub for staff and patients",
              value: "Hospital hub for staff and patients",
              checked: (data.locationType === "Hospital hub for staff and patients")
            },
            {
              text: "Vaccination centre open to the public",
              value: "Vaccination centre open to the public",
              checked: (data.locationType === "Vaccination centre open to the public")
            },
            {
              text: "Community pharmacy",
              value: "Community pharmacy",
              checked: (data.locationType === "Community pharmacy")
            },
            {
              text: "Care home",
              value: "Care home",
              checked: (data.locationType === "Care home")
            },
            {
              text: "Housebound patient’s home",
              value: "Housebound patient’s home",
              checked: (data.locationType === "Housebound patient’s home")
            },
            {
              text: "Off-site outreach event",
              value: "Off-site outreach event",
              checked: (data.locationType === "Off-site outreach event")
            }
          ]
        }) }}

        {{ button({
          text: "Continue"
        })}}
      </form>

    </div>
  </div>

{% endblock %}

