<table class="nhsuk-table" data-module="nhsuk-table">
  <caption class="nhsuk-table__caption nhsuk-table__caption--m">By organisation</caption>
  <thead role="rowgroup" class="nhsuk-table__head">
    <tr role="row">
      <th role="columnheader" class="" scope="col" aria-sort="ascending">
        Organisation
      </th>
      <th role="columnheader" class="nhsuk-table__header--numeric" scope="col" aria-sort="none">
        Today
      </th>
      <th role="columnheader" class="nhsuk-table__header--numeric" scope="col" aria-sort="none">
        Past 7 days
      </th>
      <th role="columnheader" class="nhsuk-table__header--numeric" scope="col" aria-sort="none">
        {{ (monthToday | monthName) }} to date
      </th>
      <th role="columnheader" class="nhsuk-table__header--numeric" scope="col" aria-sort="none">
        Total
      </th>
    </tr>
  </thead>
  <tbody class="nhsuk-table__body">
    {% for totalByOrganisation in (totalsByOrganisation | sort(false, false, "organisationName")) %}
      {% set organisation = data.organisations | findById(totalByOrganisation.organisationId) %}
      <tr>
        <th class="nhsuk-table__header nhsuk-u-font-weight-normal" scope="row">
          {{ organisation.name }} ({{ organisation.id }})
        </th>
        <td class="nhsuk-table__cell nhsuk-table__cell--numeric">
          {{ totalByOrganisation.today }}
        </td>
        <td class="nhsuk-table__cell--numeric">
          {{ totalByOrganisation.past7Days }}
        </td>
        <td class="nhsuk-table__cell nhsuk-table__cell--numeric">
          {{ totalByOrganisation.month }}
        </td>
        <td class="nhsuk-table__cell--numeric">
          {{ totalByOrganisation.total }}
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>
